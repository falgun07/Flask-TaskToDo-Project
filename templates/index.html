{% extends 'layout.html' %}

{% block body %}


  <form action="/" method="POST" class="container" id="form1">
    <h2 style="font-size: 28px; font-weight: bold; margin-bottom: 5px;">Add a Todo</h2>
    <div class="mb-3">
      <label for="formGroupExampleInput" style="font-weight: bold; font-size: 23px;" class="form-label">Task
        name</label>
      <input type="text" required="true" name="title" class="form-control" placeholder="Task Name">
    </div>
    <div class="mb-3">
      <label for="formGroupExampleInput2" style="font-weight: bold; font-size: 23px;" class="form-label">Task
        description</label>
      <input type="text" required="true" name="desc" class="form-control" placeholder="Task description">
    </div>


  </form>

  <button type="submit" class="submit" form="form1" onclick="window.location.reload();"
    style="font-size: 19px; color:white; background-color: black; border-radius: 10px; padding: 10px; margin-left: 55px; ">
    <span class="sp">Submit</span>
  </button>


  <div class="container" style="margin-top: 15px;">
    {% if alltodo|length==0 %}
    <div class="alert alert-dark" role="alert" style="text-align: center;">
      No Todos Found, Add Your First Todo Now!
    </div>
    {% else %}
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Sno</th>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col">Date Created</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for todo in alltodo %}
        <tr>
          <th scope="row">{{loop.index}}</th>
          <td>{{todo.title}}</td>
          <td>{{todo.desc}}</td>
          <td>{{todo.date}}</td>
          <td><a href="/update/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Update</button>
              <a href="/delete/{{todo.sno}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Delete</button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  {% endif %}


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
</body>

</html>
  
{% endblock body %}